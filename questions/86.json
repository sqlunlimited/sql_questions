{
  "title": "Count Users Influenced by Marketing Campaign",
  "difficulty": "Hard",
  "description": "Given a table of in-app purchases, find the number of users who made additional purchases *after* their first purchase day (i.e., due to the marketing campaign). Exclude users who only purchased on the first day or only repurchased the same product(s) they bought on day one. Count only users who bought new products after the first day.",
  "schema": "CREATE TABLE in_app_purchases ( created_at DATETIME, price BIGINT, product_id BIGINT, quantity BIGINT, user_id BIGINT);\n\nINSERT INTO in_app_purchases (created_at, price, product_id, quantity, user_id) VALUES('2024-12-01 10:00:00', 500, 101, 1, 1),  ('2024-12-02 11:00:00', 700, 102, 1, 1),('2024-12-01 12:00:00', 300, 103, 1, 2), ('2024-12-03 14:00:00', 400, 103, 1, 2),('2024-12-02 09:30:00', 200, 104, 1, 3), ('2024-12-04 15:30:00', 600, 105, 2, 3),('2024-12-01 08:00:00', 800, 106, 1, 4), ('2024-12-05 18:00:00', 500, 107, 1, 4),('2024-12-06 16:00:00', 700, 108, 1, 5);",
  "expectedResult": {
    "columns": ["successful_users"],
    "values": [
      [3]
    ]
  },
  "hint": "",
  "contributor": {
    "name": "LinkedIn",
    "link": "https://linkedin.com/"
  }
}